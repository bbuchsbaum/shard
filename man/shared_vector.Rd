% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/altrep.R
\name{shared_vector}
\alias{shared_vector}
\title{Create a shared vector from a segment}
\usage{
shared_vector(
  segment,
  type = c("double", "integer", "logical", "raw"),
  offset = 0,
  length = NULL,
  readonly = TRUE,
  cow = NULL
)
}
\arguments{
\item{segment}{A shard_segment object}

\item{type}{Vector type: "integer", "double"/"numeric", "logical", or "raw"}

\item{offset}{Byte offset into segment (default: 0)}

\item{length}{Number of elements. If NULL, calculated from segment size.}

\item{readonly}{If TRUE, prevent write access (default: TRUE)}

\item{cow}{Copy-on-write policy for read-only shared vectors. One of
"deny", "audit", or "allow". If NULL (default), the policy defaults to
"deny" when \code{readonly = TRUE} and "allow" otherwise.}
}
\value{
An ALTREP vector backed by shared memory
}
\description{
Create a shared vector from a segment
}
\examples{
\dontrun{
# Create a segment and store integers
seg <- segment_create(400)  # 100 integers * 4 bytes
segment_write(seg, 1:100, offset = 0)

# Create ALTREP view
x <- shared_vector(seg, "integer", length = 100)
x[1:10]  # Returns a view, not a copy

# Check diagnostics
shared_diagnostics(x)
}
}
